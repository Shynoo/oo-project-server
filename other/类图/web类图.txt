@startuml

package controller <<Cloud>>{
    class SampleController
}

class SampleController{
    __
    doLogin()
    userProfile()
    getBooks()
    is Admin()
    getAllUsers()
    getAllBooks()
    deleteUser()
    deleteBook()
    changeUserType()
    search()
    feelLucky()
    borrrow()
    giveBackBook()
    addUser()
    addBook()
    checkPassword()
}


package service <<cloud>>{
    class UserService
    class BookService
}
class UserService{
    + boolean checkUserPassword()
    + User getUserById()
    + int addUser()
    + int deletUser()
    + int borrowBook()
    + int giveBackBook()
    + changeUserType()
    + boolean checkUserCouldBorrowBook()
    + boolean checkBookCouldBorrowed()
    + int addBook()
    + int deleteBook()
    + List<Book> getUserAllBorrowingBooks()
    + Map getAllUsers()
}
SampleController *-- UserService

class BookService{
    List<Book> searchBookByName()
    List<Book> searchBookByType()
    Book getBookById()
    List<Book> getAllBooks()
}
SampleController *-- BookService


package dao <<cloud>>{
    interface UserDao
    class LocalUserDao
    interface BookDao
    interface BorrowingDao
    class LocalBorrowingDao
    class LocalBookDao
}


interface UserDao{
    User getUserById()
    String getUserPassword()
    int addUser()
    int deletUser()
    int updateUser()
    Map getAllUsers()
}
UserService -- UserDao 
BookService -- UserDao
class LocalUserDao{
    __
    ...
}
UserDao <|.. LocalUserDao

interface BookDao{
    Book getBookById()
    List<Book> getBooksByName()
    List<Book> searchBookByName()
    List<Book> searchBookByType()
    int addBook()
    int deletBook()
    int updateBook()
}
UserService -- BookDao 
BookService -- BookDao

class LocalBookDao{
    __
    ...
}
BookDao <|.. LocalBookDao

interface BorrowingDao{
    + int borrowOut()
    + int giveBack()
    + List<String> getUserAllBorrowedBooks()
    + String getBookOwnerId();
    + Date bookOutDay();
}
UserService -- BorrowingDao

class LocalBorrowingDao{
    __
    ...
}
BorrowingDao <|.. LocalBorrowingDao


@enduml